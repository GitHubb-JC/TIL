# TDD(Test Driven Development)란?

# 참고

https://media.fastcampus.co.kr/knowledge/dev/tdd/

https://inpa.tistory.com/entry/QA-%F0%9F%93%9A-TDD-%EB%B0%A9%EB%B2%95%EB%A1%A0-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C





# TDD(Test Driven Development)란?

> TDD(Test Driven Development, 테스트 주도 개발) 이란, 반복적인 테스트를 이용하여 소프트웨어를 개발하는 방법을 이야기 한다. **"작은 단위의 테스트 케이스를 작성하고 이 테스트를 통과하는 코드를 추가한다. "** 이를 반복하여 코드를 구현한다. 짧은 개발 주기의 반복에 의존하는 개발 프로세스이고 애자일 방법론 중 하나인 **eXtream Programming(XP)의 "Test-First"** 개념에 기반을 둔 단순한 설계방식이다.





# TDD 개발주기

<img src="TDD(Test Driven Development)란.assets/image-20230131093238208.png" alt="image-20230131093238208"  align="left"/>

이 부분에서 중요한 것은 **실패하는 테스트 코드를 작성**할 때까지 **실제 코드를 작성하지 않는 것**과, 실패하는 테스트를 통과할 정도의 **최소 실제 코드를 작성**해야 하는 것이다.

이렇게 하면, 실제 코드에 대해 기대되는 바를 보다 명확하게 정의하여 **불필요한 설계를 피할 수** 있고, **정확한 요구 사항에 집중**할 수 있다.

<img src="TDD(Test Driven Development)란.assets/image-20230131093737597.png" alt="image-20230131093737597"  align='left'/>





# 일반 개발 방식 & TDD 개발 방식

## 일반 개발 방식

<img src="TDD(Test Driven Development)란.assets/image-20230131094145120.png" alt="image-20230131094145120"  align='left'/>

일반 개발 방식은 **"요구사항 분석 > 설계 > 개발 > 테스트 > 배포"** 순으로 개발 주기를 가져가는데 이렇게 되면 개발이 느리게 진행 될 가능성이 존재한다.

이유로는 

- 고객의 요구사항이 명확하지 않을 수 있고, 중간중간 변경이 될 수도 있다. 
- 처음부터 완벽하게 설계하고 이후 변경점이 존재하지 않게 하는건 무척 힘들다.
- 작은 부분의 기능을 수정하려 해도 전체를 다 돌려가면서 진행해야 함으로 버그의 검출 능력이 저하 될 수 있다.
- 개발 과정을 진행하다 보면 코드의 수정, 삽입, 삭제 등을 수행하면서 불필요한 코드가 남아 있을 수도 있고, 중복처리를 하게 될 수도 있다.
- 작은 부분의 수정을 가하려 해도 전체가 돌아야 하니 테스트 비용이 증가 할 수 있다.





## TDD 개발 방식

<img src="TDD(Test Driven Development)란.assets/image-20230131131637958.png" alt="image-20230131131637958" style="zoom:80%;" align='left'/>

TDD 방식의 가장 큰 특징은 **테스트 코드를 작성한 뒤에 실제 코드를 작성**한다는 것이다.

설계 단계에서 프로그래밍 목적을 반드시 미리 정의해야 하고, 무엇을 테스트해야 할지 미리 정의(테스트 케이스 작성)해야 한다.

- 테스트 코드를 작성하는 도중에 발생하는 예외 사항(버그, 수정사항)들은 테스트 케이스에 추가하고 설계를 개선한다.
- 이후 테스트가 통과된 코드만을 코드 개발 단계에서 실제 코드로 작성한다.

이와 같은 단계를 반복하다 보면 자연스럽게 코드의 버그가 줄어들고, 간결해진다. 또한, 테스트 케이스 작성으로 설계가 개선됨으로 재설계 시간이 절감된다.





## TDD 사례

### JUnit

> JUnit은 현재 전 세계적으로 가장 널리 사용되는 'Java 단위 테스트 프레임워크' 이다. 
>
> JUnit을 시작으로 CUnit(C언어), CppUnit(C++), PyUnit(Python) 등 xUnit 프레임워크가 탄생하게 되었다. 



# TDD 장점

## 1. 디버깅 시간을 단축 할 수 있다.

유닛 테스팅을 하는 이점과 같다.

일반적 방식에서는 문제가 발생하였을 때 이 문제가 DB 때문인지, 서버때문인지, UI 때문인지 등등 여러 가능성이 있고 모든 부분을 디버깅 해야 하지만, TDD 방식에서는 자동으로 유닛 테스팅을 하고 있기 때문에 바로바로 잡아낼 수 있다.



## 2. 코드가 내 손을 벗어나기 전에 가장 빠르게 피드백 받을 수 있다.

개발 프로세스에서는 보통 '인수 테스트'를 진행한다. 어느 정도 개발을 완료한 시스템을 대상으로 클라이언트가 요구한 수준으로 만들어 졌는지 체크하는 과정인데, 거의 개발이 완료된 코드를 가지고 테스트를 하는 것이라서 **문제를 발견해도, 정확하게 원인이 무엇인지 바로 진한다는 것**은 힘들다.

하지만 TDD는 기능 단위로 테스트를 이미 진행하였기 때문에 '인수 테스트' 과정에서 문제가 발생할 확률이 무척 낮다.



## 3. 작성한 코드가 가지는 불안정성을 개선하여 생산성을 높일 수 있다.

TDD는 코드가 내 손을 떠나기 전에 **문제가 없는지 먼저 진단 받을 수 있다.** 따라서 코드의 잠재적 불안정성과 불확실성을 지속적으로 해소해준다.

 

## 4. 재설계 시간을 단축 할 수 있다.

테스트 코드를 먼저 작성하기 때문에 개발자가 지금 무엇을 해야하는지 분명하게 정의하고 개발을 시작하게 된다. 또한 테스트 시나리오를 작성하면서 **다양한 예외사항에 대해 생각**해 볼 수 있다. 이는 개발 진행 중인 소프트웨어의 전반적인 설계가 변경되는 일을 방지할 수 있다.



## 5. 추가 구현이 용이하다.

개발이 완료된 소프트웨어에 어떤 기능을 추가할 때 가장 우려되는 점은 **해당 기능이 기존 코드에 어떤 영향을 미칠지 알 수 없다**는 것이다.

하지만 TDD의 경우 자동화된 유닛 테스팅을 전제하여 테스트 기간을 획기적으로 단축시킬 수 있다.





# TDD 단점

## 1. 개발 시간의 증가

시간이 생명인 업계에서 어찌보면 가장 큰 단점이라고 볼 수 있다. 불확실성, 불안정성이 해소 되어 개발은 편하게 진행할 수 있겠지만 처음부터 코드를 2개씩 작성하고, 계속해서 테스트를 진행하며 개발을 수행해 나가면 불가피하게 시간은 늘어나게 된다. 실제로 TDD 방식의 개발 기간은 일반적 방식에 비해 대략 10~30% 정도 늘어난다고 한다.

특히 SI 프로젝트에서는 소프트웨어의 납기일 준수가 무엇보다 중요하여 TDD 방식을 잘 사용하지 않는다고 한다.



## 2. 방식의 틀이 사고를 제한할 수 있다.

작은 방식의 반복으로 개발이 이루어지다보니 "~~~ 한 방식으로 진행해야 한다." 라는 틀이 존재한다. 이러한 틀에 맞추다 보면 사고가 편협해지고 개발의 궁극적 목표와는 조금 동떨어진 방향으로 진행하게 하여 부정적인 결과를 초래할 수 있다.





# TDD 결론(추천 상황)